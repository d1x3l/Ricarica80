<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ricarica 80%</title>

  <!-- Icone e PWA -->
  <link rel="shortcut icon" href="icons/icon-192.png" type="image/png">
  <link rel="icon" href="icons/icon-192.png" sizes="192x192">
  <link rel="icon" href="icons/icon-512.png" sizes="512x512">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">

  <meta name="theme-color" content="#00aaff">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Ricarica 80%">

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Ricarica 80%</h1>
    <div class="subtitle">Fermarsi all'80% allunga la vita della batteria</div>

    <div class="tabs">
      <div class="tab active" data-tab="auto">Automatica</div>
      <div class="tab" data-tab="manuale">Manuale</div>
    </div>

    <div class="temp-section">
      <label><input type="checkbox" id="usaTemp" onchange="toggleTemp()"/> Considera temperatura ambiente</label>
      <div class="disclaimer">Curva aggiornata al 02-12-2025 con i tuoi test reali (notte fredda inclusa)</div>
      <select id="temperatura">
        <option value="40">40°C – Molto caldo</option>
        <option value="35">35°C – Caldo intenso</option>
        <option value="30">30°C – Caldo</option>
        <option value="25" selected>25°C – Ideale</option>
        <option value="20">20°C – Normale</option>
        <option value="15">15°C – Fresco</option>
        <option value="10">10°C – Freddino</option>
        <option value="5">5°C – Freddo</option>
        <option value="3">3°C – Molto freddo</option>
        <option value="1">1°C – Quasi gelo</option>
        <option value="-2">-2°C – Gelo</option>
        <option value="-5">-5°C – Gelo forte</option>
        <option value="-10">-10°C – Artic</option>
      </select>
    </div>

    <div id="auto" class="content active">
      <label>Batteria attuale (%)</label>
      <input type="number" id="percAttualeAuto" min="1" max="99" value="40"/>
      <label>Tempo stimato dall'auto per il 100%</label>
      <div class="time-input">
        <input type="number" id="ore100" placeholder="Ore" value="7">
        <input type="number" id="min100" placeholder="Min" value="13">
      </div>
      <button onclick="calcolaAutomatico()">Calcola tempo per 80%</button>
    </div>

    <div id="manuale" class="content">
      <label>Modello auto</label>
      <select id="modelloAuto" onchange="impostaCapacita()">
        <option value="altro">Altro</option>
        <option value="spring" selected>Dacia Spring (26,8 kWh)</option>
      </select>
      <label>Capacità batteria (kWh)</label>
      <input type="number" step="0.1" id="capacita" value="26.8" readonly style="background:#333"/>
      <label>Batteria attuale (%)</label>
      <input type="number" id="percAttuale" min="1" max="99" value="40"/>
      <label>Potenza di ricarica (kW)</label>
      <input type="number" step="0.1" id="potenza" value="3.7"/>
      <button onclick="calcolaManuale()">Calcola tempo per 80%</button>
    </div>

    <div id="risultato" class="result">
      <div>Mancano <span id="tempoRimanente" class="time">–</span></div>
      <div>Arrivo all'80% previsto per le <span id="orarioFinale" class="time">–</span></div>
      <div id="impattoTemp" class="impact"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
                                            </html>
